#algorithm  #concurrency #flow-control

![[Pasted image 20210909172527.png]]
-   请求来了放入桶中
-   桶内请求量满了拒绝请求
-   服务定速从桶内拿请求处理


> 可以看到水滴对应的就是请求。它的特点就是**宽进严出**，无论请求多少，请求的速率有多大，都按照固定的速率流出，对应的就是服务按照固定的速率处理请求。“他强任他强，老子尼克杨”。


# Problem

面对突发请求，服务的处理速度和平时是一样的，这其实不是我们想要的，在面对突发流量我们希望在系统平稳的同时，提升用户体验即能更快的处理请求，而不是和正常流量一样，循规蹈矩的处理.

而[[ token bucket | 令牌桶]]在应对突击流量的时候，可以更加的“激进”。